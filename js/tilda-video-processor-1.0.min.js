function setWidthAndHeightVideo(e,t,p){console.log("set width and height "+p+"-video: "+t);var u,c,o,i,n,r,s=e.querySelector("iframe"),d=("html5"===p&&(s=(e=(u=e).closest(".t-cover__carrier")).querySelector("video")),e.getAttribute("data-content-video-nocover")),l=e.getAttribute("data-content-video-noadcut-youtube"),a=e.getAttribute("data-content-video-ratio"),h=.5625;a&&!isNaN(Number(a))&&0<a&&(h=parseFloat(a)),"yes"!==d?(d=-1!==(t=t||"100vh").indexOf("vh")?(a=window.innerHeight,c=parseInt(t)||0,Math.floor(a*(c/100))):parseInt(t)||0,n=o=(a=window.innerWidth)*h,i=o,r=1,"youtube"===p&&"yes"!==l&&(n+=220,i=o-220),i<d&&(r=o<d?d/o+.02:o/d+.02),l=Math.floor(a*r),n=(i=Math.floor(n*r))-d,r=l-a,s.style.height=i+"px",s.style.width=l+"px","html5"===p&&(u.style.height=i+"px",u.style.width=l+"px"),s.style.marginTop=0<n?-Math.floor(n/2)+"px":"0",s.style.marginLeft=0<r?-Math.floor(r/2)+"px":"0"):(t||(o=Math.floor(e.offsetWidth*h)),t&&-1<t.indexOf("vh")?(c=parseInt(t)||0,o=Math.floor(window.innerHeight*(c/100))):t&&(o=parseInt(t)||0),s.style.width="100%",s.style.height=o+"px")}function processSrc(e,t,o){-1!==(e=-1===e.indexOf("https://www.youtube.com/embed")?"https://www.youtube.com/embed"+("/"===e[0]?e:"/"+e):e).indexOf("?")?e+="&":e+="?";var i=location.protocol+"//"+location.host;return e="yes"!==t?(e[e.length-1],e+"autoplay=1&loop=1&enablejsapi=1&&playerapiid=featuredytplayer&controls=0&modestbranding=1&rel=0&showinfo=0&color=white&iv_load_policy=3&theme=light&wmode=transparent&origin="+i+"&playlist="+function(e){for(var t=e.split("/"),o=null,i=0,n=t.length;i<n;i++)"embed"===t[i]&&(o=t[i+1]);return o=-1!==o.indexOf("?")?o.split("?")[0]:o}(e)):(e[e.length-1],e+"autoplay=0&loop=0&enablejsapi=1&&playerapiid=featuredytplayer&controls=1&modestbranding=1&rel=0&showinfo=0&color=black&iv_load_policy=3&theme=dark&wmode=transparent&origin="+i),"yes"!==o&&(e+="&mute=1"),e}function onYouTubePlayerReady_do(e,t,o){var i,n=0;window.addEventListener("scroll",function(){i&&(window.clearTimeout(i),15<=n&&(timer_player_do(e,t,o),n=0),n++),i=window.setTimeout(function(){timer_player_do(e,t,o),n=0},100)})}function timer_player_do(e,t,o){var i=e.getBoundingClientRect().top+window.pageYOffset,n=e.offsetWidth,r=window.pageYOffset,s=window.innerHeight,d=t.getPlayerState();i<r+s&&r<=i+n?((5===d||-1===d||3===d||2===d&&"y"===e.getAttribute("data-video-invisible"))&&(t.playVideo(),e.removeAttribute("data-video-invisible")),"yes"===o&&(i+n-100<r?t.setVolume(30):i+n-200<r?t.setVolume(70):r+s<i+200?t.setVolume(30):t.setVolume(100))):r+s<i&&i-500<r+s?(e.setAttribute("data-video-invisible","y"),2!==d&&(t.playVideo(),t.pauseVideo())):(i+n<r&&r<i+n+500&&e.setAttribute("data-video-invisible","y"),2!==d&&t.pauseVideo())}function load_youtube_api(){var e,t;"yes"!==window.loadytapi_flag&&(window.loadytapi_flag="yes",(e=document.createElement("script")).src="https://www.youtube.com/iframe_api",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}function videoProcessor_onFuncLoad(e,t){var o;"object"==typeof window[e]&&"function"==typeof window[e].Player?t():o=setInterval(function(){"object"==typeof window[e]&&"function"==typeof window[e].Player&&(t(),clearInterval(o),o=0)},100),window.addEventListener("load",function(){setTimeout(function(){if(o){if("object"!=typeof window[e]||"function"!=typeof window[e].Player)throw clearInterval(o),new Error(e+" is undefined");t(),clearInterval(o)}},5e3)})}!function(){window.processYoutubeVideo=function(s,d){load_youtube_api();videoProcessor_onFuncLoad("YT",function(){var t,e=s.getAttribute("data-content-video-url-youtube"),i=s.getAttribute("data-content-video-nomute"),n=s.getAttribute("data-content-video-noloop"),o=s.getAttribute("data-content-video-nocover"),r=document.createElement("iframe");r.src=processSrc(e,o,i),r.frameBorder="0",r.allow="fullscreen",s.appendChild(r),window.isMobile||"undefined"==typeof YT||new YT.Player(r,{events:{onReady:function(e){onYouTubePlayerReady_do(s,e.target,i),e.target.setVolume&&"yes"!==i&&e.target.setVolume(0),e.target.setLoop(!0)},onStateChange:function(o){var e;o.target.setVolume&&"yes"!==i&&o.target.setVolume(0),-1!==o.data||0<=(e=window.fix_scrolltop_beforestop_youtube)&&(window.scrollTo(0,e),delete window.fix_scrolltop_beforestop_youtube),o.data===YT.PlayerState.PLAYING?t=window.setInterval(function(){var e=o.target.getCurrentTime(),t=o.target.getDuration();t<e+1&&0!==t&&(o.target.seekTo(0),"yes"===n&&(o.target.stopVideo(),o.target.clearVideo()))},1e3):window.clearInterval(t)}}}),setWidthAndHeightVideo(s,d,"youtube")})};window.videoBG=function(e,t){var o={};if("object"==typeof t)o=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(e[o]=arguments[t][o]);return e}({},window.videoBG.defaults,t);else{if(t)return t.videoBG(o);o=window.videoBG.defaults}var t=e;if(t)return"static"!==t.style.position&&t.style.position||(t.style.position="relative"),0===o.width&&(o.width=t.offsetWidth),0===o.height&&(o.height=t.offsetHeight),o.textReplacement&&(o.scale=!0,t.style.width=o.width+"px",t.style.height=o.height+"px",t.style.textIndent="-9999px"),e=window.videoBG.video(o),o.scale&&(e.style.height=o.height+"px",e.style.width=o.width+"px"),t.insertAdjacentElement("beforeend",e),!t.getAttribute("data-content-video-nomute")||(t=t.querySelector("video"))&&t.setAttribute("muted","true"),setWidthAndHeightVideo(e,o.height+"px","html5"),e.querySelector("video")},window.videoBG.setFullscreen=function(e){var t,o=window.innerWidth,i=window.innerHeight,n=(e.style.minHeight=0,e.style.minWidth=0,e.parentNode&&(e.parentNode.style.width=o+"px",e.parentNode.style.height=i+"px"),o/i>e.aspectRatio?(e.style.width=o+"px",e.style.height="auto",t=e.offsetHeight,e.style.top=-(t=0<(t-o)/2?(t-o)/2:0)+"px"):(e.style.width="auto",e.style.height=i+"px",n=e.offsetWidth,e.style.left=-(t=0<(n-o)/2?(n-o)/2:0)+"px",0===t&&setTimeout(function(){window.videoBG.setFullscreen(e)},500)),document.querySelectorAll("body > .videoBG_wrapper"));Array.prototype.forEach.call(n,function(e){e.style.width=o+"px",e.style.height=i+"px"})},window.videoBG.video=function(e){var t,o,i=document.createElement("div"),n=(i.classList.add("videoBG"),i.style.position=e.position,i.style.zIndex=e.zIndex,i.style.top="0",i.style.left="0",i.style.height=e.height+"px",i.style.width=e.width+"px",i.style.opacity=e.opacity,i.style.overflow="hidden",document.createElement("video")),r=(n.style.position="relative",n.style.zIndex=e.zIndex,n.style.poster=e.poster,n.style.top="0",n.style.left="0",n.style.minHeight="100%",n.style.minWidth="100%",n.setAttribute("autoplay",e.autoplay),e.loop?n.setAttribute("loop",e.loop):n.removeAttribute("loop"),n.setAttribute("muted",e.muted),0<e.volume?n.setAttribute("volume",e.volume):n.setAttribute("volume","0"),e.fullscreen&&(n.addEventListener("canplay",function(){n.aspectRatio=n.offsetWidth/n.offsetHeight,window.videoBG.setFullscreen(n)}),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){window.videoBG.setFullscreen(n)},100)}),window.videoBG.setFullscreen(n)),e.loop&&(o=e.loop,n.addEventListener("ended",function(){o&&(n.muted=!0,n.play()),!0!==o&&o--})),n.addEventListener("canplay",function(){e.autoplay&&(n.muted=!0,n.play())}),window.videoBG.supportsVideo()&&(window.videoBG.supportType("webm")&&""!==e.webm?n.setAttribute("src",e.webm):window.videoBG.supportType("mp4")&&""!==e.mp4?n.setAttribute("src",e.mp4):n.setAttribute("src",e.ogv)),document.createElement("img"));return r.setAttribute("src",e.poster),r.style.position="absolute",r.style.zIndex=e.zIndex,r.style.top="0",r.style.left="0",r.style.minHeight="100%",r.style.minWidth="100%",window.videoBG.supportsVideo()?i.insertAdjacentElement("beforeend",n):i.insertAdjacentElement("beforeend",r),e.textReplacement&&(i.style.minHeight="1px",i.style.minWidth="1px",n.style.minHeight="1px",n.style.minWidth="1px",r.style.minHeight="1px",r.style.minWidth="1px",i.style.height=e.height+"px",i.style.width=e.width+"px",n.style.height=e.height+"px",n.style.width=e.width+"px",r.style.height=e.height+"px",r.style.width=e.width+"px"),window.videoBG.supportsVideo(),i},window.videoBG.supportsVideo=function(){return document.createElement("video").canPlayType},window.videoBG.supportType=function(e){if(!window.videoBG.supportsVideo())return!1;var t=document.createElement("video");switch(e){case"webm":return t.canPlayType('video/webm; codecs="vp8, vorbis"');case"mp4":return t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');case"ogv":return t.canPlayType('video/ogg; codecs="theora, vorbis"')}return!1},window.videoBG.wrapper=function(){var e=document.createElement("div");return e.classList.add("videoBG_wrapper"),e.style.position="absolute",e.style.top="0",e.style.left="0",e},window.videoBG.defaults={mp4:"",ogv:"",webm:"",poster:"",autoplay:!0,loop:!0,scale:!1,position:"absolute",opacity:1,textReplacement:!1,zIndex:0,width:0,height:0,fullscreen:!1,imgFallback:!0}}(),function(){function e(){this.setScrollListener()}e.prototype.videoTags=[],e.prototype.defaultConfig={isNeedStop:!1},e.prototype.videoConfigs=[],e.prototype.registerNewVideo=function(e,t){if(!(e instanceof HTMLVideoElement))throw new Error("Wrong tag passed into registerNewVideo");return-1===this.videoTags.indexOf(e)&&(this.videoTags.push(e),this.videoConfigs.push(void 0===t?this.defaultConfig:t),this.scrollCb("",!0),!0)},e.prototype.unergisterVideo=function(e){if(!(e instanceof HTMLVideoElement))throw new Error("Wrong tag passed into unregisterNewVideo");var t;return-1!==(t=this.videoTags.indexOf(e))&&("function"==typeof e.remove?null!==e.parentNode&&e.parentNode.removeChild(e):e.parentNode&&e.parentNode.removeChild(e),this.pauseVideo(e,this.videoConfigs[t]),this.videoTags.splice(t,1),this.videoConfigs.splice(t,1),!0)},e.prototype.pauseVideo=function(e,t){if(!t)throw new Error("Wrong config type!");e.pause(),t.isNeedStop&&e.load()},e.prototype.setScrollListener=function(){window.addEventListener("scroll",t_throttle(this.scrollCb.bind(this),200))},e.prototype.scrollCb=function(e,t){for(var o=window.innerHeight,i=null,n=0,r=this.videoTags.length;n<r;n++){var s,i=this.videoTags[n],d=this.getVideoBoundingRect(i,!1);Math.abs(d.top)<o&&Math.abs(d.top)>o/2&&(0<(s=1-(Math.abs(d.top)-o/2)/(o/2)-.2)&&s<=1&&0!=i.volume&&(i.volume=s)),Math.abs(d.top)>o||0==d.height?this.pauseVideo(i,this.videoConfigs[n]):(t&&(i.muted=!0,i.play()),i.paused&&i.loop&&(i.muted=!0,i.play()))}},e.prototype.getVideoObject=function(e){for(var t=this.videoTags.length,o=0;o<t;o++){var i=this.videoTags[o];if(i.v===e)return i}return null},e.prototype.getVideoBoundingRect=function(e,t){return((t=void 0===t?!0:t)&&e.closest(".r")||e).getBoundingClientRect()},window.videoLoadProcessor=new e}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}return null});